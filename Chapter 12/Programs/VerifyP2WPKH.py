from VerifyScript_P2WPKH import verifyScript
from SegwitBlockTransaction import getTransactionInfo
from VerifyScript_P2PKH import bytes2Mmap

if __name__ == '__main__':
    #txid :: 808767ec8b388a7d6c34b9658e573e39034831fea49f0f22911393d6f8e195fb
    tx_s = '0100000000010240fc776263b1a4104da05cf069c8e7b0aeb7f7e4c686062906df9ab5d384716f0100000000ffffffff86ab7969a4d661aeaf8845f49eb2e5d30f6fb657d7694b8289224658158a62870000000000ffffffff02ea430000000000001976a9145d57c599fd94fce0cec607e15716f46468cb281b88aca47e000000000000160014f57aed6b1c121a10bec610987cbf414fb168778402483045022100eb6c3485c4ff17390dfbe35be9940b442783bd103095219c285331372b18913b02205bcbc7ce889823af020030d075832f314d1cc905269edf295e813dc7238dc37301210359522a87dc9c907d1669811b7254faf96d7ffcb1f22736bfcd0168fb19b9c98602483045022100acefd6d2ad0b56ad5837cd9d75b49c9f36f5deb6b12e290bbdc14076a38017cd02207a1add2928912d900756874e487d49b49defc7fc6f9805e9777afa929de5ffcb012102948374b79fa597475cab313e63d61d3d546288e6b9b3f80bd1ecc1a514dc382a00000000'
    tx_b = bytes.fromhex(tx_s)
    tx_m = bytes2Mmap(tx_b)
    tx = getTransactionInfo(tx_m)
    verifyScript(tx, 0)
